# 基础配置

[[toc]]

## 请求方法-method

```js
// 【必选】请求方法，如'get'、'post'等,默认为'get'
method: 'get',
```

## 路径参数-url/baseURL/allowAbsoluteUrls

```js
// 【必选】请求的服务器URL（如果是相对路径，会自动拼接baseURL）
url: '/user',

// 【重要】基础URL，会自动拼接到url前面（除非url是绝对路径）
baseURL: 'https://some-domain.com/api',
// 【高级】是否允许绝对URL覆盖baseURL（默认true允许覆盖）
allowAbsoluteUrls: true,
```

下面通过`allowAbsoluteUrls`来说明`baseURL`和`url`的关系：
::: code-group

```js [allowAbsoluteUrls: true（默认）]
axios.create({
  baseURL: 'https://api.example.com',
  // 允许当url是绝对路径时，覆盖baseURL
  allowAbsoluteUrls: true,
});

// 情况1：url为相对路径 → 拼接baseURL
// 实际请求: https://api.example.com/users
instance.get('/users');

// 情况2：绝对路径 → 忽略baseURL
// 实际请求: https://other-site.com/data
instance.get('https://other-site.com/data');
```

```js [allowAbsoluteUrls: false]
axios.create({
  baseURL: 'https://api.example.com',
  allowAbsoluteUrls: false,
});

// 情况1：相对路径 → 正常拼接
// 实际请求: https://api.example.com/users
instance.get('/users');

// 情况2：绝对路径 → 仍然强制拼接baseURL
// 实际请求: https://api.example.com/https://other-site.com/data
instance.get('https://other-site.com/data');
```

:::

## 请求头-headers

```js
// 【常用】自定义请求头
headers: {'X-Requested-With': 'XMLHttpRequest'},
```

::: tip 请求头配置项

- `Content-Type`：请求体数据类型，如`application/json`、`application/x-www-form-urlencoded`等
- `Accept`：服务器响应数据类型，如`application/json`、`text/html`等
- `Authorization`：身份认证，如`Bearer token`、`Basic username:password`等
- `User-Agent`：客户端信息，如`Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36`

其他请看 HTTP 部分
:::

## 请求数据-params/data/paramsSerializer

### GET 请求头参数

params: URL 查询参数（会拼接到 URL?后面）

```js
// 【常用】URL查询参数（会拼接到URL?后面）
// 注意：null/undefined的参数不会出现在URL中
params: {
  ID: 12345
},
// 【高级】参数序列化函数（可替代默认的序列化逻辑）
paramsSerializer: function (params) {
  return Qs.stringify(params, {arrayFormat: 'brackets'})
},
```

### POST 请求体数据

- data: 请求体数据（仅适用于 PUT/POST/DELETE/PATCH）
- params: 将查询字符串放到请求体

```js
// 【重要】请求体数据（仅适用于PUT/POST/DELETE/PATCH）
// 可以是对象、字符串、Buffer等格式
data: {
  firstName: 'Fred'
},
// 另一种数据格式示例（POST请求的字符串形式）
data: 'Country=Brasil&City=Belo Horizonte',
```
