# 类型操作符

[[toc]]

类型操作符就是对类型进行操作的符号。TypeScript 提供了一些操作符来操作类型，包括类型断言、类型别名、交叉类型和联合类型。

## 联合类型-|

`|`（竖线）在 TS 中叫做联合类型（由两个或多个类型组成的类型，表示其值是这些类型中的任意一种）。
比如我们要求数组中既有 `number` 类型，又有 `string`类型，则这个数组的类型就可以用`|`来进行定义

```ts
// 表明数组arr中的值是number或者string类型的一种
let arr: (number | string)[] = [1, 3, 'b'];
```

再比如字面量中我们也可以使用|,表示其值只能是 red blue black 中的一种。

```ts
let color: 'red' | 'blue' | 'black';
// 允许的
color = 'red';
// 允许的
color = 'blue';
// 不允许的
color = 'yellow';
```

## 交叉类型-&

`&`：表示必须要同时满足两个类型

```js
let k: { name: string } & { age: number };
k = { name: '孙悟空', age: 18 };
```

## 可选参数-?

使用`?`来指定单个可选属性

```js
let obj1: {
  name: string,
  // ? 表示可选
  age?: number,
};
// 报错，必须至少指定name属性
// obj1 = {}
// 正确的用法
obj1 = { name: '小王' };
obj1 = { name: '小王', age: 12 };
```

## 索引类型查询-keyof

`keyof` 能将对象的属性转化为常量联合类型

```ts
type Props = {
  a: number;
  b: string;
  c: boolean;
};
// 等价于 type Type = 'a' | 'b' | 'c'
type Type = keyof Props;
let num: Type = 'a';
console.log(num); // a
```

## 类型查询-typeof

众所周知，JS 中提供了 `typeof` 操作符，用来在 JS 中获取数据的类型。实际上，TS 也提供了 `typeof` 操作符,可以在类型上下文中引用变量或属性的类型（类型查询）。
比如下面的案例：

```js
let p = { x: 1, y: 2 };
function formatPoint(point: { x: number, y: number }) {}
formatPoint(p);
```

获取变量 p 的类型，来作为`point`的类型，以此简化类型书写

```js
function formatPoint(point: typeof p) {}
```

## 推断类型-infer

## 条件类型-extends

## 模板字面量类型

## 只读属性-readonly

## 类型满足检查
