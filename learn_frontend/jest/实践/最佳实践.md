# 最佳实践

## 原则

- 测试文件命名：`*.test.js` 或 `*.spec.js`
- 将测试文件放在 `__tests__`目录或与源码同目录
- 每个测试用例应该小而专注
- 使用 `describe` 组织相关测试
- 测试应该独立不依赖其他测试的状态

## 错误处理

### 隔离测试

如果一个测试失败，首先要检查的事情之一应该是该测试在它是唯一运行的测试时是否也会失败。要用 Jest 只运行测试组中的一个测试，暂时将那个 test 命令改为 `test.only`：

```js
// 原代码
test.only('仅运行我', () => {
  console.log('这个测试会执行');
  expect(1 + 1).toBe(2);
});

test('不运行我', () => {
  console.log('这个不会执行');
  expect('A').toBe('A');
});

describe('普通测试组', () => {
  test('我也不运行', () => {
    console.log('describe 内的也被跳过');
  });
});
```
