# 记账本小项目

[[toc]]

## 环境搭建

1. 创建项目：`npx create-react-app react-bill-test`
2. 安装依赖项：`npm i @reduxjs/toolkit react-redux react-router-dom dayjs classnames ant-mobile axios`
   1. Redux 状态管理 - @reduxjs/toolkit 、 react-redux
   2. 路由 - react-router-dom
   3. 时间处理 - dayjs
   4. class 类名处理 - classnames
   5. 移动端组件库 - antd-mobile
   6. 请求插件 - axios

## 配置别名路径@

### 路径解析配置

路径解析配置（webpack），需要把 @/ 解析为 src/，但是
CRA 本身把 webpack 配置包装到了黑盒里无法直接修改，需要借助一个插件 - craco
配置步骤：

1. 安装 craco
   npm i -D @craco/craco
2. 项目根目录下创建配置文件 craco.config.js

```js
const path = require('path');
module.exports = {
  webpack: {
    alias: {
      '@': path.resolve(__dirname, 'src'),
    },
  },
};
```

3. 配置文件中添加路径解析配置
4. 包文件中配置启动和打包命令

### 联想路径配置

路径联想配置（VsCode），VsCode 在输入 @/ 时，自动联想出来对应的 src/下的子级目录，VsCode 的联想配置，需要我们在项目目录下添加 jsconfig.json 文件，加入配置之后 VsCode 会自动读取配置帮助我们自动联想提示
配置步骤：

1. 根目录下新增配置文件 - jsconfig.json
2. 添加路径提示配置

```json
{
  "compilerOptions": {
    "baseUrl": "./",
    "paths": {
      "@/": ["src/"]
    }
  }
}
```

## 数据 Mock 实现

### 什么是数据 Mock

在前后端分类的开发模式下，前端可以在没有实际后端接口的支持下先进行接口数据的模拟，进行正常的业务功能开
发
<br/>
市场常见的 Mock 方式

1. 前端直接写假数据
2. 自研 Mock 平台
3. json-server 等工具

### json-server 实现数据 Mock

json-server 是一个 node 包，可以在不到 30 秒内获得零编码的完整的 Mock 服务
实现步骤：

1. 项目中安装 json-server
   npm i -D json-server
2. 准备一个 json 文件
3. 添加启动命令
4. 访问接口进行测试

## 整体路由设计

1. 俩个一级路由 （Layout / new）
2. 俩个二级路由 （Layout - mouth/year）

![路由设计图](https://s3.bmp.ovh/imgs/2025/04/21/373dcdab6dd772df.png)

## antD-mobile 主题定制

### 定制方案

1. 全局定制
   整个应用范围内的组件都生效
2. 局部定制
   只在某些元素内部的组件生效

### 实现方式

在 src 下创建 theme.css
::: code-group

```css [theme.css]
/* 定义全局变量 */
:root:root {
  --adm-color-primary: #a062d4;
}
/* 定义局部样式 */
.skyblue {
  --adm-color-primary: rgb(182, 182, 207);
}
```

```js [样式定制] {8-11}
import { Outlet } from 'react-router-dom';
import { Button } from 'antd-mobile';
const Layout = () => {
  return (
    <div>
      this layout
      <Outlet />
      <Button color='primary'>跳转1</Button>
      <div className='skyblue'>
        <Button color='primary'>跳转2</Button>
      </div>
    </div>
  );
};
export default Layout;
```

:::

## 完整项目实现
