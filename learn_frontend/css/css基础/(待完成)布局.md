# 布局

:::tip 每日回顾

- 两栏布局如何实现
  - 采用 margin 和 BFC
- 三栏布局如何实现
  - 两边使用 float,中间使用 margin 为什么块级元素要放在最后
  - 浮动元素会覆盖内容吗？

:::

[[toc]]

## 两栏布局

### 采用 margin 和 BFC

实现思路：

- 使用 float 左浮左边栏
- 右边模块使用 margin-left 撑出内容块做内容展示
- 为父级元素添加 BFC,防止下方元素飞到上方内容

代码如下：

```html {3,13}
<style>
  .box {
    /* 避免高度塌陷 */
    overflow: hidden;
  }
  .aside {
    width: 200px;
    height: 400px;
    float: left;
    background-color: bisque;
  }
  .main {
    /* 注意不用设置宽度，因为块级元素默认为width:auto会自动充满父容器 */
    margin-left: 210px;
    height: 200px;
    background-color: blueviolet;
  }
</style>
<div class="box">
  <div class="aside"></div>
  <div class="main"></div>
</div>
```

### 采用 flex

```html
<style>
  .box {
    height: 400px;
    display: flex;
  }
  .aside {
    width: 100px;
    background-color: bisque;
  }
  .main {
    flex: 1;
    background-color: blueviolet;
  }
</style>
<div class="box">
  <div class="aside"></div>
  <div class="main"></div>
</div>
```

:::tip 关于块级元素的宽度
块级元素默认为 width:auto 会自动充满父容器
:::

## 三栏布局

### 两边使用 float,中间使用 margin

需要将中间的内容放在 html 结构最后，否则右侧会臣在中间内容的下方
代码如下：

```html {30-31}
<style>
  .box {
    background-color: #eee;
    overflow: hidden;
    padding: 20px;
    height: 200px;
  }
  .left {
    width: 200px;
    height: 200px;
    float: left;
    background-color: coral;
  }
  .right {
    width: 120px;
    height: 200px;
    float: right;
    background-color: lightblue;
  }
  .middle {
    height: 200px;
    margin-left: 210px;
    margin-right: 140px;
    background-color: lightpink;
  }
</style>
<div class="box">
  <div class="left"></div>
  <div class="right"></div>
  <!-- 放到最后 -->
  <div class="middle"></div>
</div>
```

原理如下：

- 两边固定宽度，中间宽度自适应。
- 利用中间元素的 margin 值控制两边的间距
- 宽度小于左右部分宽度之和时，右侧部分会被挤下去

这种实现方式存在缺陷：

- 主体内容是最后加载的。
- 右边在主体内容之前，如果是响应式设计，不能简单的换行展示

::: tip 浮动的一些规则

- 普通块级元素的内容会避开浮动元素，但盒子默认被覆盖。
- 浮动元素想要覆盖块级元素必须放在要覆盖的块级元素前

:::

### 两边使用 absolute,中间使用 margin

注意绝对定位的元素脱离文档流，**相对于最近的已经定位的祖先元素进行定位**。无需考虑 HTML 中结构的顺序

```html
<style>
  .box {
    position: relative;
    background-color: #eee;
    height: 200px;
  }
  .left {
    position: absolute;
    top: 0;
    left: 0;
    width: 200px;
    height: 200px;
    background-color: coral;
  }
  .right {
    position: absolute;
    top: 0;
    right: 0;
    width: 120px;
    height: 200px;
    background-color: lightblue;
  }
  .main {
    height: 200px;
    margin-left: 210px;
    margin-right: 140px;
    background-color: lightpink;
  }
</style>
<div class="box">
  <div class="left"></div>
  <div class="main"></div>
  <div class="right"></div>
</div>
```

### 两边使用 float 和负 margin

实现过程：

- 中间使用了双层标签，外层是浮动的，以便左中右能在同一行展示
- 左边通过使用负 margin-left:-100%,相当于中间的宽度，所以向上偏移到左侧
- 右边通过使用负 margin-left:-100px,相当于自身宽度，所以向上偏移到最右侧

缺点：

- 增加了.main-wrapper 一层，结构变复杂
- 使用负 margin,调试也相对麻烦

### display:table 实现

### flex 实现

```html
<style>
  .box {
    display: flex;
    justify-content: space-between;
  }
  .left,
  .right,
  .main {
    height: 100px;
  }
  .left {
    width: 15%;
    background-color: coral;
  }
  .right {
    width: 15%;
    background-color: lightblue;
  }
  .main {
    flex: 1;
    background-color: lightpink;
  }
</style>
<div class="box">
  <div class="left"></div>
  <div class="main"></div>
  <div class="right"></div>
</div>
```

### grid 网格布局

```html
<style>
  .box {
    display: grid;
    grid-template-columns: 200px auto 200px;
  }
  .left,
  .right,
  .main {
    height: 200px;
  }
  .left {
    background-color: coral;
  }
  .right {
    background-color: lightblue;
  }
  .main {
    background-color: lightpink;
  }
</style>
```

### 圣杯布局 ​ 和双飞翼布局
