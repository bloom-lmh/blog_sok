# 基本使用

[[toc]]

## 安装

通过`npm install @faker-js/faker --save-dev`可以安装 `Faker`。

## 生成简单数据

Faker 提供了一个 `simpleFaker`，可用于生成不基于任何语言环境的数据，如数字和字符串。还有像 `arrayElement` 或 `multiple `这样的助手可用

```ts
import { simpleFaker } from '@faker-js/faker';

const uuid = simpleFaker.string.uuid();
```

## 生成复杂数据

```ts
import { faker } from '@faker-js/faker';
import type { SexType } from '@faker-js/faker';

type SubscriptionTier = 'free' | 'basic' | 'business';

interface User {
  _id: string;
  avatar: string;
  birthday: Date;
  email: string;
  firstName: string;
  lastName: string;
  sex: SexType;
  subscriptionTier: SubscriptionTier;
}

function createRandomUser(overwrites: Partial<User> = {}): User {
  const {
    _id = faker.string.uuid(),
    avatar = faker.image.avatar(),
    birthday = faker.date.birthdate(),
    sex = faker.person.sexType(),
    // 参考性别让数据更合理
    firstName = faker.person.firstName(sex),
    lastName = faker.person.lastName(),
    // 邮箱由名字和姓氏生成，让数据更合理
    email = faker.internet.email({ firstName, lastName }),
    subscriptionTier = faker.helpers.arrayElement([
      'free',
      'basic',
      'business',
    ]),
  } = overwrites;

  return {
    _id,
    avatar,
    birthday,
    email,
    firstName,
    lastName,
    sex,
    subscriptionTier,
  };
}

const user = createRandomUser();
// 传入配置用统一时间来覆盖随机生成的时间
const userToReject = createRandomUser({ birthday: new Date('2124-10-20') });
```

::: warning 注意

- 数据合理性：为了让数据更加合理，可以参考其他数据来生成，比如姓名参考了性别、邮箱参考了名字和姓氏等等。
- 数据唯一值：`email`容易产生重复，可以通过一些手段来变成唯一值（看核心概念章节）
- 可配置：可以传入`options`或者 overwrites`来配置生成的数据

:::
